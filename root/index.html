<!DOCTYPE html>
<html>
  <body>
    <h2>Reed Sheep paths: RSR</h2>

    <form>
      <label for="startPos"
        >Car start position (x, y, heading in deg 0-360): </label
      ><br />
      <input
        type="text"
        id="startPos"
        name="startPos"
        value="(0, 0, 0)"
      /><br />
      <label for="endPos">Car goal position (x, y, heading): </label><br />
      <input type="text" id="endPos" name="endPos" value="(1, 0, 0)" />
      <p>(turning radius is 1</p>
    </form>

    <button id="runButton" onclick="run()">Calculate</button>

    <p>Values:</p>
    <p id="output0"></p>
    <p id="output1"></p>
    <p id="output2"></p>
    <p id="output3"></p>
    <p id="output4"></p>

    <script type="text/javascript" src="ReedSheppPaths.js"></script>

    <script>
      function setOutput(...strs) {
        for (let i = 0; i < strs.length; ++i)
          document.getElementById('output' + i.toString()).innerHTML = strs[i];
      }

      function run() {
        // values
        const startValues = document
          .getElementById('startPos')
          .value.slice(1, -1)
          .split(',')
          .map((e) => Number(e));
        const endValues = document
          .getElementById('endPos')
          .value.slice(1, -1)
          .split(',')
          .map((e) => Number(e));
        startValues[2] = degToRad(startValues[2]);
        endValues[2] = degToRad(endValues[2]);

        const circleAMiddlePoint = getRightCircle({
          pos: { x: startValues[0], y: startValues[1] },
          heading: startValues[2]
        });
        const circleBMiddlePoint = getRightCircle({
          pos: { x: endValues[0], y: endValues[1] },
          heading: endValues[2]
        });

        let outputStr1 =
          'Right circle from start car middle point: { x: ' +
          circleAMiddlePoint.x.toFixed(2) +
          ', y: ' +
          circleAMiddlePoint.y.toFixed(2) +
          ' }';
        let outputStr2 =
          'Right circle from end car middle point: { x: ' +
          circleBMiddlePoint.x.toFixed(2) +
          ', y: ' +
          circleBMiddlePoint.y.toFixed(2) +
          ' }';

        setOutput(outputStr1, outputStr2);
      }
    </script>
  </body>
</html>
